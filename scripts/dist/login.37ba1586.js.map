{"mappings":"AACA,MAAM,cAAc,SAAS,aAAa,CAAC;AAC3C,MAAM,cAAc,SAAS,aAAa,CAAC;AAC3C,MAAM,YAAY,SAAS,aAAa,CAAC;AAEzC,YAAY,gBAAgB,CAAC,SAAS;IACpC,UAAU,SAAS,CAAC,GAAG,CAAC;AAC1B;AAEA,YAAY,gBAAgB,CAAC,SAAS;IACpC,UAAU,SAAS,CAAC,MAAM,CAAC;AAC7B;AACA,cAAc;AACd,MAAM,WAAW,SAAS,aAAa,CAAC;AACxC,MAAM,UAAU,SAAS,aAAa,CAAC;AACvC,MAAM,SAAS,SAAS,aAAa,CAAC;AACtC,cAAc;AACd,MAAM,YAAY,SAAS,aAAa,CAAC;AACzC,MAAM,eAAe,SAAS,aAAa,CAAC;AAC5C,MAAM,WAAW,SAAS,aAAa,CAAC;AACxC,MAAM,UAAU,SAAS,aAAa,CAAC;AAEvC,MAAM,WAAW,SAAS,aAAa,CAAC;AAExC,QAAQ,gBAAgB,CAAC,SAAS;AAClC,OAAO,gBAAgB,CAAC,SAAS;AACjC,GAAG;AACH,eAAe,SAAS,CAAC;IACvB,EAAE,cAAc;IAChB,MAAM,WAAW,aAAa,KAAK;IACnC,MAAM,QAAQ,UAAU,KAAK;IAC7B,MAAM,WAAW,SAAS,KAAK;IACjC,MAAM,MAAM;QACX;QACC;QACA;IACF;IACA,MAAM,WAAW,MAAM,MAAM,iDAAiD;QACxE,QAAQ;QACR,SAAS;YACP,gBAAgB;QAClB;QACA,MAAM,KAAK,SAAS,CAAC;IACvB;IAEA,MAAM,SAAS,MAAM,SAAS,IAAI;IAClC,IAAG,QAAO;QACR,UAAU;QACV,IAAG,OAAO,OAAO,KAAK,6BACpB,WAAW;YACT,UAAU,SAAS,CAAC,MAAM,CAAC;QAC7B,GAAE;IAEN;AACJ;AAEC,eAAe,QAAQ,CAAC;IACvB,EAAE,cAAc;IAChB,MAAM,QAAQ,SAAS,KAAK;IAC5B,MAAM,WAAW,QAAQ,KAAK;IAChC,MAAM,MAAM;QACV;QACA;IACF;IACE,MAAM,WAAW,MAAM,MAAM,iDAAiD;QAC5E,QAAQ;QACR,SAAS;YACP,gBAAgB;QAClB;QACA,MAAM,KAAK,SAAS,CAAC;IACvB;IAEA,MAAM,SAAS,MAAM,SAAS,IAAI;IAClC,QAAQ,GAAG,CAAC;IACZ,IAAG,QACD,UAAU;AAEd;AAEA,SAAS,UAAU,MAAM;IACvB,SAAS,WAAW,GAAG,OAAO,OAAO;IACrC,MAAM,QAAQ,OAAO,KAAK;IAC1B,MAAM,WAAW,OAAO,QAAQ;IAChC,IAAG,OAAM;QACP,aAAa,OAAO,CAAC,SAAS;QAC9B,aAAa,OAAO,CAAC,YAAY;QACjC,WAAW;YACT,OAAO,QAAQ,CAAC,IAAI,GAAG;QACzB,GAAE;IACJ;IACA,SAAS,SAAS,CAAC,GAAG,CAAC;IACvB,WAAW;QACT,SAAS,SAAS,CAAC,MAAM,CAAC;QAC1B,SAAS,WAAW,GAAG;IACzB,GAAE;AACJ","sources":["code/TypingPanda/scripts/login.js"],"sourcesContent":["\nconst sign_in_btn = document.querySelector(\"#sign-in-btn\");\nconst sign_up_btn = document.querySelector(\"#sign-up-btn\");\nconst container = document.querySelector(\".container\");\n\nsign_up_btn.addEventListener(\"click\", () => {\n  container.classList.add(\"sign-up-mode\");\n});\n\nsign_in_btn.addEventListener(\"click\", () => {\n  container.classList.remove(\"sign-up-mode\");\n});\n// signup form\nconst logEmail = document.querySelector(\"#log-email\");\nconst logPass = document.querySelector(\"#log-pass\");\nconst logBtn = document.querySelector(\"#log-btn\");\n// signup form\nconst signEmail = document.querySelector(\"#sign-email\");\nconst signUsername = document.querySelector(\"#sign-username\");\nconst signPass = document.querySelector(\"#sign-pass\");\nconst signBtn = document.querySelector(\"#sign-btn\");\n\nconst errorBox = document.querySelector(\".error-box\");\n\nsignBtn.addEventListener(\"click\", signUser);\nlogBtn.addEventListener(\"click\", logUser);\n// \nasync function signUser(e){\n  e.preventDefault();\n  const username = signUsername.value;\n  const email = signEmail.value;\n  const password = signPass.value;\nconst raw = {\n username,\n  password,\n  email\n};\nconst response = await fetch(\"https://typingpanda-backend.vercel.app/signup\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n      },\n      body: JSON.stringify(raw),\n    });\n\n    const result = await response.json();\n    if(result){\n      showError(result);\n      if(result.message === \"User created successfully\"){\n        setTimeout(() => {\n          container.classList.remove(\"sign-up-mode\");\n        },1000)\n      }\n    }\n}\n\n async function logUser(e){\n  e.preventDefault();\n  const email = logEmail.value;\n  const password = logPass.value;\nconst raw = {\n  password,\n  email\n};\n  const response = await fetch(\"https://typingpanda-backend.vercel.app/signin\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify(raw),\n  });\n\n  const result = await response.json();\n  console.log(result);\n  if(result){\n    showError(result);\n  }\n}\n\nfunction showError(result){\n  errorBox.textContent = result.message;\n  const token = result.token;\n  const username = result.username;\n  if(token){\n    localStorage.setItem(\"token\", token);\n    localStorage.setItem(\"username\", username);\n    setTimeout(() => {\n      window.location.href = \"index.html\";\n    },2000)\n  }\n  errorBox.classList.add(\"show-error\");\n  setTimeout(() => {\n    errorBox.classList.remove(\"show-error\");\n    errorBox.textContent = \"\";\n  },1000)\n}"],"names":[],"version":3,"file":"login.37ba1586.js.map","sourceRoot":"/__parcel_source_root/"}